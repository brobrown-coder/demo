<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>메인 페이지</title>
    <link rel="stylesheet" href="/styles/index.css">
    <style>
        .messages-section {
            margin: 20px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .messages-section h2 {
            color: #333;
            margin-bottom: 15px;
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
        }

        .message-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .message-item {
            padding: 12px;
            margin: 8px 0;
            background: white;
            border-radius: 5px;
            border-left: 4px solid #007bff;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .sender {
            color: #007bff;
            font-weight: bold;
        }

        .content {
            color: #333;
            margin-left: 5px;
        }

        .login-result-section {
            margin: 20px;
            padding: 20px;
            background: #e8f5e8;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            border-left: 4px solid #28a745;
        }

        .login-result-section h2 {
            color: #155724;
            margin-bottom: 15px;
            border-bottom: 2px solid #28a745;
            padding-bottom: 10px;
        }

        .login-result-item {
            padding: 15px;
            background: white;
            border-radius: 5px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            font-size: 16px;
            line-height: 1.6;
        }

        .login-result-item strong {
            color: #28a745;
        }
    </style>

</head>

<body>
    <!-- 상단 네비게이션 -->
    <nav class="top-nav">
        <div class="nav-container">
            <div class="logo">
                <img src="/images/brobrown-logo.svg" alt="Brobrown Logo">
            </div>
            <ul class="nav-menu">
                <li><a href="/contents/calculator/plus">덧셈</a></li>
                <li><a href="/contents/calculator/minus">뺄셈</a></li>
                <li><a href="/contents/calculator/gob">곱셈</a></li>
                <li><a href="/contents/calculator/nanum">나눗셈</a></li>
            </ul>
            <div>
                <a href="/login" class="login-btn">로그인</a>
                <button class="mobile-menu-btn" onclick="toggleSidebar()">☰</button>
            </div>
        </div>

    </nav>

    <!-- 사이드메뉴 -->
    <aside class="sidebar" id="sidebar">
        <h3>메뉴</h3>
        <ul class="sidebar-menu">
            <li><a href="/users/saveall">유저확인</a></li>
            <li><a href="/train/all">기차확인</a></li>
            <li><a href="/products/all">상품 리스트</a></li>
            <li><a href="/products">상품 등록</a></li>
            <li><a href="#reports">보고서</a></li>
            <li><a href="#settings">설정</a></li>
            <li><a href="/cal">계산기</a></li>
        </ul>
    </aside>

    <!-- 메인 콘텐츠 -->
    <main class="main-content">
        <!-- 메시지 목록 -->
        <div class="messages-section">
            <h2>공지사항</h2>
            <ul class="message-list">
                <li th:each="msg : ${messages}" class="message-item">
                    <strong th:text="'메시지 ' + ${msg.code}" class="sender"></strong> :
                    <span th:text="${msg.message}" class="content"></span>
                </li>
            </ul>
        </div>

        <!-- 로그인 결과 표시 -->
        <div th:if="${messenger}" class="login-result-section">
            <h2>로그인 결과</h2>
            <div class="login-result-item">
                <strong>코드:</strong> <span th:text="${messenger.code}"></span><br>
                <strong>메시지:</strong> <span th:text="${messenger.message}"></span>
            </div>
        </div>

        <div class="content-section fade-in">
            <h1>환영합니다!</h1>
            <p>이곳은 웹사이트의 메인 페이지입니다. 상단 네비게이션과 사이드메뉴를 통해 다양한 기능에 접근할 수 있습니다.</p>
        </div>

        <div class="content-section fade-in">
            <h2>주요 기능</h2>
            <p>• 사용자 관리 시스템</p>
            <p>• 상품 및 주문 관리</p>
            <p>• 보고서 및 분석</p>
            <p>• 계산기 도구</p>
        </div>

    </main>


    <script>
        // 모바일 사이드바 토글
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('open');
        }

        // 페이지 로드 시 애니메이션
        document.addEventListener('DOMContentLoaded', function () {
            const sections = document.querySelectorAll('.content-section');
            sections.forEach((section, index) => {
                setTimeout(() => {
                    section.style.opacity = '1';
                }, index * 200);
            });

            // 상품 저장 성공 알림창 표시
            const showAlert = /*[[${showAlert}]]*/ false;
            const message = /*[[${message}]]*/ '';
            const code = /*[[${code}]]*/ 0;

            if (showAlert && message) {
                const alertMessage = `상품 저장 결과\n\n코드: ${code}\n메시지: ${message}`;
                alert(alertMessage);
            }
        });
    </script>
</body>

</html>